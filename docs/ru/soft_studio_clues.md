# Редактор системы подсказок

Система подсказок — это компонент программы управления комнатой _Queen Room_, который служит для подачи игрокам подсказок в различных формах,
также этот инструмент может быть использован для ручного запуска каких-либо спецэффектов. Важной особенностью данной системы является то,
что имеется возможность отображать только актуальные для данной стадии подсказки. В роли подсказок могут выступать аудиофайлы, видеофайлы,
а также любая последовательность действий, которая описана с помощью [макроэффекта](soft_studio_macro). 

Список актуальных подсказок открывается с помощью кнопки _**Give a clue**_ на панели навигатора _Queen Room_:

![navigator clue](../assets/screen/navigator-clue.jpg ':no-zoom')

## Интерфейс редактора системы подсказок

Доступ к редактору системы подсказок осуществляется с помощью кнопки _**Clues editor**_ на панели инструментов:

![tools clue](../assets/screen/tools-clue.jpg ':no-zoom')

Окно редактора представляет собой таблицу из шести столбцов.
Добавление новых подсказок осуществляется путём создания новых строк в данной таблице и последующем изменении параметров в каждом из столбцов.
Порядок следования элементов в списке подсказок _Queen Room_ будет соответствовать порядку следования элементов в таблице редактора системы подсказок.
Окно редактора имеет следующий вид:

![clue editor](../assets/screen/clue-editor.jpg ':no-zoom')

Назначение элементов управления, расположенных в нижней части окна редактора, указано в таблице:

|                        Элемент                        | Описание                                                                      |
|:-----------------------------------------------------:|-------------------------------------------------------------------------------|
|  ![](../assets/screen/clue-editor-up.jpg ':no-zoom')  | Перемещает выбранную строку с подсказкой на позицию вверх в таблице редактора |
| ![](../assets/screen/clue-editor-down.jpg ':no-zoom') | Перемещает выбранную строку с подсказкой на позицию вниз в таблице редактора  |
| ![](../assets/screen/clue-editor-add.jpg ':no-zoom')  | Создаёт новую строку в таблицу после выбранной                                |
| ![](../assets/screen/clue-editor-del.jpg ':no-zoom')  | Удаляет выбранную строку из таблицы                                           |

Назначение каждого из полей редактора также представлено в таблице:

|     Поле     | Описание                                                                                                                                                                                                                                                   |
|:------------:|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   **type**   | Тип подсказки. Выбор осуществляется независимо для каждой подсказки из выпадающего списка. Может принимать значения: _**macro**_, _**audio**_, _**send**_.                                                                                                 |
|  **object**  | Объект модели комнаты (_**audio**_ для типа подсказки _**macro**_ или _**adapter**_ для типа подсказки _**send**_), на который осуществляется воздействие во время запуска данной подсказки. При выборе типа подсказки _**macro**_ данное поле не активно. |
| **command**  | Формат команды полностью зависит от типа подсказки. Для _**macro**_ - это заранее заготовленный макроэффект, для _**audio**_ - путь к аудиофайлу, для _**send**_ - текстовая команда.                                                                      |
| **scenario** | В данном поле из выпадающего списка выбирается сценарий, во время которого активна данная подсказка. При выбора параметра _**any**_ подсказка будет доступна независимо от запущенного в данный момент сценария.                                           |
|  **stage**   | В этом поле осуществляется выбора из выпадающего списка стадии, на которой будет актуальна данная подсказка. Если в поле _**scenario**_ выбрано _**any**_, то в выпадающем списке будут присутствовать только одноименные стадии из разных сценариев.      |
|  **alias**   | Текстовое описание подсказки. Данное описание будет отображаться в интерфейсе _Queen Room_ при отображении списка подсказок.                                                                                                                               |

## Особенности работы с различными типами подсказок

Принцип работы с полями _**scenario**_, _**stage**_ и _**alias**_ не зависит от типа подсказки.
От типа подсказок зависит содержимое остальных полей, чему и посвящены нижеследующие объяснения.  

### Тип macro

С помощью подсказки типа _**macro**_ можно выполнить любой [макроэффект](soft_studio_macro), содержащий в себе произвольную последовательность действий.
После создания новой строки в таблице подсказок в поле _**type**_ из выпадающего списка необходимо выбрать _**macro**_.
Затем в поле _**command**_ из выпадающего списка выбрать один из существующих [макроэффектов](soft_studio_macro).
С помощью макроэффекта можно запустить какую-либо комбинацию звука и видео для подсказки, намигать светом какой-либо пароль и т. д.

### Тип audio

Данный тип позволяет запустить любой аудиофайл в форматах _mp3_ или _wav_.
Принцип запуска аналогичен запуску аудиофайла с помощью [макроэффекта](soft_studio_macro).
Для начала в поле _**type**_ требуется выбрать _**audio**_,
затем выбрать из выпадающего списка в поле _**object**_ одно из аудиоустройств и указать путь к аудиофайлу в поле _**command**_.
Если требуется запуск аудиофайла с заданным уровнем громкости, то следует использовать тип _**macro**_. 

### Тип send

Тип _**send**_ позволяет отправить текстовую команду по сети с помощью объекта _**adapter**_.
Например, можно передать команду [Queen TV](soft_queen_tv) на запуск видео, показ изображения или вывод текста.
После указания в поле _**type**_ значения _**send**_ следует выбрать конкретный объект типа _**adapter**_, а в поле _**command**_ ввести текстовую команду. 
